<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>gov.br | CNH Social 2025</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="gov-header-simple gov-header-fixed">
    <div class="gov-header-content">
      <div class="gov-logo-simple">
        <img src="Gov.br_logo.svg.webp" alt="gov.br" class="gov-logo-img" />
      </div>
      <nav class="gov-header-actions" aria-label="A√ß√µes do cabe√ßalho">
        <button class="icon-btn" aria-label="Menu">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
        </button>
        <button class="icon-btn" aria-label="Cookies">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 12a8 8 0 1 1-8-8 3 3 0 0 0 3 3 3 3 0 0 0 3 3 3 3 0 0 0 2 2z"></path><circle cx="8.5" cy="11.5" r="1.25"/><circle cx="11" cy="8" r="1.25"/><circle cx="13.5" cy="13.5" r="1.25"/></svg>
        </button>
        <button class="icon-btn" aria-label="Tema">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
        </button>
        <button class="icon-btn" aria-label="Busca">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
        </button>
        <button class="icon-btn" aria-label="Assistente de voz">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 14a3 3 0 0 0 3-3V5a3 3 0 0 0-6 0v6a3 3 0 0 0 3 3z"></path><path d="M19 11a7 7 0 0 1-14 0"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>
        </button>
        <button class="gov-profile-btn" aria-label="Conta gov.br"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg><span class="gov-user-name" id="govUserInline">Voc√™</span></button>
      </nav>
    </div>
    <div class="gov-subhead">
      <span>Servi√ßos e Informa√ß√µes do Brasil</span>
    </div>
  </header>

  <main class="gov-article">
    <div class="gov-article-container">
      <!-- Meta primeiro, logo abaixo do header -->
      <div class="meta">Publicado em 30/07/2025 19h44 ‚Ä¢ Atualizado em 06/08/2025 11h48</div>

      <h1>Termo de Uso e Aviso de Privacidade</h1>

      <h2 class="section-title-blue">TERMO DE USO</h2>

      <section class="blue-panel">
        <h3>1. Sobre o Programa de Inscri√ß√µes Gov.br</h3>
        <p>Este documento estabelece os termos para participa√ß√£o no programa <strong>"CNH Social"</strong> atrav√©s da plataforma gov.br:</p>
        <ul>
          <li>Autoriza√ß√£o para tratamento de dados pessoais conforme LGPD;</li>
          <li>Processo de inscri√ß√£o autom√°tica e imediata;</li>
          <li>Crit√©rios de elegibilidade e participa√ß√£o;</li>
          <li>Direitos e responsabilidades dos participantes;</li>
        </ul>
      </section>

      <!-- Documento completo dos termos -->
      <section class="terms-card" aria-labelledby="termsTitle">
        <div class="terms-card-header">
          <h3 id="termsTitle">Documento Completo dos Termos de Uso</h3>
          <p>Role para ler todo o conte√∫do antes de aceitar</p>
        </div>
        <div class="terms-content" id="termsScroll">
          <h4>2. Aceite e Autoriza√ß√£o para Inscri√ß√£o</h4>
          <p>Ao aceitar estes termos, o cidad√£o <strong>autoriza expressamente</strong> sua inscri√ß√£o autom√°tica e imediata no programa "CNH Social" e consente com o tratamento de seus dados pessoais conforme previsto na Lei Geral de Prote√ß√£o de Dados Pessoais (LGPD).</p>
          <p>A autoriza√ß√£o abrange:</p>
          <ul>
            <li>Consulta autom√°tica de dados em bases governamentais (CPF, RG, CTPS, Cad√önico);</li>
            <li>Verifica√ß√£o de elegibilidade para programas sociais e benef√≠cios;</li>
            <li>Contato por e-mail, SMS e telefone para andamento da inscri√ß√£o;</li>
            <li>Compartilhamento com √≥rg√£os parceiros exclusivamente para execu√ß√£o do programa.</li>
          </ul>
          <h4>3. Prote√ß√£o de Dados</h4>
          <p>Os dados tratados ser√£o protegidos por medidas t√©cnicas e administrativas, com auditoria e rastreabilidade de acessos.</p>
          <p>...</p>
          <p style="margin:0">Fim do documento.</p>
        </div>
      </section>

      <!-- Aceitar termos -->
      <section class="accept-card">
        <div class="accept-left">
          <label class="switch">
            <input type="checkbox" id="acceptToggle" disabled>
            <span class="slider"></span>
          </label>
        </div>
        <div class="accept-right">
          <h4>Aceitar Termos</h4>
          <p>Declaro que li e aceito os termos, autorizando minha inscri√ß√£o imediata no programa "CNH Social" e o tratamento dos meus dados conforme LGPD</p>
        </div>
      </section>

      <!-- Banner de sucesso (oculto at√© aceitar) -->
      <div id="acceptSuccess" class="success-banner" style="display:none;">
        <span class="success-icon">‚úì</span>
        <span>Termos aceitos!</span>
      </div>

      <!-- Card de consulta por CEP (oculto at√© aceitar) -->
      <section id="regionCard" class="region-card" style="display:none;">
        <h3>Consulta de CNH Social por Localiza√ß√£o</h3>
        <h4>CEP da sua regi√£o</h4>
        <p>Informe seu CEP para localizar autoescolas credenciadas pr√≥ximas √† sua resid√™ncia, facilitando o acesso √†s aulas e adequa√ß√£o √†s suas necessidades geogr√°ficas.</p>
        <div class="region-form">
          <input id="cepInput" type="text" inputmode="numeric" maxlength="9" placeholder="00000-000" />
          <button id="searchCepBtn" class="primary-btn" disabled>
            <span class="search-icon">üîç</span>
            Buscar CNH Social na Regi√£o
          </button>
        </div>
      </section>
    </div>
  </main>

  <!-- Rodap√© escuro -->
  <footer class="gov-footer-dark">
    <div class="footer-inner">
      <div class="footer-brand">
        <img src="Gov.br_logo.svg.webp" alt="gov.br" class="gov-logo-img" />
      </div>
      <div class="footer-sections">
        <details open>
          <summary>SOBRE O MINIST√âRIO</summary>
          <ul>
            <li>Quem somos</li>
            <li>Transpar√™ncia</li>
          </ul>
        </details>
        <details>
          <summary>SERVI√áOS DO PROGRAMA</summary>
          <ul>
            <li>Inscri√ß√µes</li>
            <li>Autoescolas credenciadas</li>
          </ul>
        </details>
        <details>
          <summary>NAVEGA√á√ÉO POR P√öBLICO</summary>
          <ul>
            <li>Cidad√£o</li>
            <li>Empresas</li>
          </ul>
        </details>
        <details>
          <summary>ACESSIBILIDADE</summary>
          <ul>
            <li>Leitor de tela</li>
          </ul>
        </details>
        <details>
          <summary>ACESSO √Ä INFORMA√á√ÉO</summary>
          <ul>
            <li>Portal de dados</li>
          </ul>
        </details>
        <details>
          <summary>CENTRAIS DE CONTE√öDO</summary>
          <ul>
            <li>Not√≠cias</li>
          </ul>
        </details>
        <details>
          <summary>CANAIS DE ATENDIMENTO</summary>
          <ul>
            <li>Ouvidoria</li>
          </ul>
        </details>
        <details>
          <summary>PROGRAMAS E PROJETOS</summary>
          <ul>
            <li>CNH Social</li>
          </ul>
        </details>
      </div>
      <div class="footer-cookies">
        <span class="cookie-icon">üç™</span>
        <span>Redefinir Cookies</span>
      </div>
      <div class="footer-social">
        <span>Redes sociais</span>
        <div class="icons">
          <a aria-label="X" href="#" class="social-circle">X</a>
          <a aria-label="Facebook" href="#" class="social-circle">f</a>
          <a aria-label="YouTube" href="#" class="social-circle">‚ñ∂</a>
          <a aria-label="LinkedIn" href="#" class="social-circle">in</a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Preenche o nome, se dispon√≠vel. Mant√©m fallback "Voc√™" se vazio
    const storedName = (sessionStorage.getItem('userName') || '').trim();
    if (storedName) {
      document.querySelectorAll('.gov-user-name').forEach(e => e.textContent = storedName);
    } else {
      const inline = document.getElementById('govUserInline');
      if (inline) inline.textContent = 'Voc√™';
    }

    // Habilita o toggle somente ap√≥s rolar ao final do documento
    const termsScroll = document.getElementById('termsScroll');
    const acceptToggle = document.getElementById('acceptToggle');
    const acceptSuccess = document.getElementById('acceptSuccess');
    const regionCard = document.getElementById('regionCard');
    const cepInput = document.getElementById('cepInput');
    const searchCepBtn = document.getElementById('searchCepBtn');

    if (termsScroll && acceptToggle) {
      const checkScroll = () => {
        const atBottom = termsScroll.scrollTop + termsScroll.clientHeight >= termsScroll.scrollHeight - 4;
        if (atBottom) acceptToggle.disabled = false;
      };
      termsScroll.addEventListener('scroll', checkScroll);
      checkScroll();
    }

    // Ao aceitar, mostrar sucesso e a busca por CEP
    if (acceptToggle) {
      acceptToggle.addEventListener('change', () => {
        if (acceptToggle.checked) {
          if (acceptSuccess) acceptSuccess.style.display = 'flex';
          if (regionCard) regionCard.style.display = 'block';
        } else {
          if (acceptSuccess) acceptSuccess.style.display = 'none';
          if (regionCard) regionCard.style.display = 'none';
        }
      });
    }

    // M√°scara e valida√ß√£o simples de CEP
    function normalizeCEP(v){
      v = (v||'').replace(/\D/g,'').slice(0,8);
      if (v.length>5) v = v.slice(0,5)+'-'+v.slice(5);
      return v;
    }

    async function geocodeByCep({cep, cidade, uf}){
      // Tenta Nominatim primeiro
      const q = encodeURIComponent(`${cep} ${cidade||''} ${uf||''} Brasil`);
      try {
        const r = await fetch(`https://nominatim.openstreetmap.org/search?format=json&limit=1&addressdetails=1&q=${q}`);
        const j = await r.json();
        if (Array.isArray(j) && j.length>0) return {lat: parseFloat(j[0].lat), lon: parseFloat(j[0].lon)};
      } catch(e) {}
      // Fallback: Photon
      try {
        const r2 = await fetch(`https://photon.komoot.io/api/?q=${q}&limit=1`);
        const j2 = await r2.json();
        if (j2 && j2.features && j2.features.length>0){
          const c = j2.features[0].geometry.coordinates; // [lon, lat]
          return {lat: c[1], lon: c[0]};
        }
      } catch(e) {}
      return null;
    }

    if (cepInput && searchCepBtn) {
      cepInput.addEventListener('input', (e) => {
        e.target.value = normalizeCEP(e.target.value);
        searchCepBtn.disabled = e.target.value.length !== 9; // 00000-000
      });
      searchCepBtn.addEventListener('click', async () => {
        const cep = (cepInput.value||'').replace(/\D/g,'');
        if (cep.length !== 8) return;
        const original = searchCepBtn.innerHTML;
        searchCepBtn.disabled = true;
        searchCepBtn.innerHTML = '<span class="search-icon">‚è≥</span> Consultando...';
        try{
          // 1) VIA CEP
          const resp = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
          const data = await resp.json();
          if (data.erro){
            alert('CEP n√£o encontrado. Verifique e tente novamente.');
            searchCepBtn.disabled = false; searchCepBtn.innerHTML = original; return;
          }
          // 2) Geocodifica√ß√£o por CEP
          const coords = await geocodeByCep({cep: data.cep||cep, cidade: data.localidade, uf: data.uf});
          if (!coords){
            alert('N√£o foi poss√≠vel localizar coordenadas do CEP. Tente outro CEP.');
            searchCepBtn.disabled = false; searchCepBtn.innerHTML = original; return;
          }
          // 3) Guarda contexto e segue para p√°gina 5
          sessionStorage.setItem('cepLookup', JSON.stringify({
            cep: data.cep || cep,
            logradouro: data.logradouro || '',
            bairro: data.bairro || '',
            cidade: data.localidade || '',
            uf: data.uf || '',
            lat: coords.lat,
            lon: coords.lon
          }));
          window.location.href = 'pagina5.html';
        }catch(err){
          alert('Falha ao consultar CEP. Tente novamente.');
          searchCepBtn.disabled = false; searchCepBtn.innerHTML = original;
        }
      });
    }
  </script>
</body>
</html> 